<!-- index.html -->
<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MyBlog ‚Äî Home</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- Custom CSS -->
  <style>
  	/* styles.css */
/* styles.css */

/* Light Mode (default) */
body {
  font-family: 'Outfit', sans-serif;
  /*background-color: #ffffff; */
  color: #333;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Dark Mode */
[data-bs-theme='dark'] body {
  background-color: #ffffff; /* White background for dark mode as well */
  color: #333; /* Optional: Adjust text color in dark mode */
}

.navbar-brand {
  font-size: 1.8rem;
  font-weight: 700;
}

.hero {
  background: linear-gradient(to right, #6a11cb, #2575fc);
  color: white;
  padding: 100px 0;
  text-align: center;
}

.hero h1 {
  font-size: 3.2rem;
  font-weight: 700;
}

.hero p {
  font-size: 1.2rem;
  margin-top: 10px;
}

.section-title {
  font-weight: 600;
  font-size: 1.5rem;
}

.nav-link {
  font-weight: 500;
  color: inherit;
  text-decoration: none;
}

.nav-link:hover {
  text-decoration: underline;
}

.glass-card {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Slight shadow */
  overflow: hidden;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.glass-card:hover {
  transform: scale(1.03);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15); /* Slightly stronger shadow on hover */
}

.card-img-top {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 16px 16px 0 0;
}

.card-body {
  padding: 1rem;
}

.card-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #333;
}

.card-text {
  font-size: 0.95rem;
  color: #555;
}

.blog-btn {
  transition: background 0.2s ease;
}

#darkModeToggle {
  transition: transform 0.2s ease;
}

#darkModeToggle:hover {
  transform: rotate(20deg);
}

.save-btn {
  font-size: 0.85rem;
  padding: 4px 10px;
}

/* Dark Mode Enhancements */
[data-bs-theme='dark'] .glass-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1); /* Slight shadow for dark mode */
}

[data-bs-theme='dark'] .card-title {
  color: #fff;
}

[data-bs-theme='dark'] .card-text {
  color: #ccc;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem;
  padding: 1rem;
}

.blog-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s ease;
}

.blog-card:hover {
  transform: translateY(-4px);
}

.blog-card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
}

.blog-card .card-content {
  padding: 1rem;
}

.blog-card .title {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.blog-card .summary {
  font-size: 0.95rem;
  color: #444;
  margin-bottom: 1rem;
}

.blog-card .meta {
  font-size: 0.85rem;
  color: #888;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.blog-card button {
  background: #007bff;
  color: white;
  border: none;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  cursor: pointer;
}

.blog-card .meta .actions {
  display: flex;
  gap: 0.5rem;
}

  	
  </style>
</head>

	<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary shadow-sm px-4 py-3">
    <div class="container-fluid">
      <a class="navbar-brand text-primary" href="#">MyBlog</a>
      <div class="d-flex gap-3 align-items-center">
        <button id="darkModeToggle" class="btn btn-outline-dark">üåô</button>
        <a href="/login" class="btn btn-primary">Login</a>
      </div>
    </div>
  </nav>

  <!-- Secondary Nav -->
  <div class="bg-light-subtle py-2 border-bottom animate__animated animate__fadeInDown">
    <div class="container d-flex gap-4">
      <a href="/" class="nav-link">üè† Home</a>
      <a href="/blog-write.html" class="nav-link">‚úçÔ∏è Write Blog</a>
      <a href="/about" class="nav-link">‚ÑπÔ∏è About</a>
      <a href="/contact" class="nav-link">üì¨ Contact</a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero animate__animated animate__fadeIn">
    <div class="container">
      <h1>Welcome to MyBlog</h1>
      <p>Discover ideas, stories, and thoughts from creative minds üåç</p>
    </div>
  </section>

  <!-- Blog Posts -->
  <div class="container mt-5">
    <h2 class="mb-4 section-title">üî• Latest Posts</h2>
    <div class="row g-4" id="blog-posts">
      <!-- Blog cards will be dynamically inserted here -->
      <div id="blog-container" class="card-grid"></div>
      
    </div>
    <div class="text-center mt-4">
      <button class="btn btn-outline-primary" id="loadMoreBtn">Load More</button>
    </div>
  </div>

  <!-- Save Toast -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="saveToast" class="toast align-items-center text-bg-success border-0" role="alert">
      <div class="d-flex">
        <div class="toast-body">Saved to Reading List!</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    </div>
  </div>
  
    <!-- Footer Section -->
  <footer class="bg-light py-4 mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <h5>Discover More Topics</h5>
          <ul class="list-unstyled">
            <li><a href="#">Education</a></li>
            <li><a href="#">Entertainment</a></li>
            <li><a href="#">Food</a></li>
            <li><a href="#">Gaming</a></li>
            <li><a href="#">Health & Fitness</a></li>
            <li><a href="#">Politics</a></li>
            <li><a href="#">Science</a></li>
            <li><a href="#">Sports</a></li>
            <li><a href="#">Technology</a></li>
            <li><a href="#">Travel</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>Products</h5>
          <ul class="list-unstyled">
            <li><a href="#">Must-read articles</a></li>
            <li><a href="#">Daily newsletter</a></li>
            <li><a href="#">Pocket Premium</a></li>
            <li><a href="#">Save to Pocket extensions</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>Company</h5>
          <ul class="list-unstyled">
            <li><a href="#">About</a></li>
            <li><a href="#">Contact Info</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>Resources</h5>
          <ul class="list-unstyled">
            <li><a href="#">Get help</a></li>
            <li><a href="#">Advertise</a></li>
          </ul>
          <h5>Get the app</h5>
          <div class="d-flex gap-3">
            <a href="#" class="btn btn-outline-primary">Download on the Apple App Store</a>
            <a href="#" class="btn btn-outline-secondary">Get It on Google Play</a>
          </div>
        </div>
      </div>
    </div>
  </footer>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
	<script>
	// script.js

	document.addEventListener("DOMContentLoaded", () => {
	  const toggleBtn = document.getElementById("darkModeToggle");
	  const blogContainer = document.getElementById("blog-posts");
	  const loadMoreBtn = document.getElementById("loadMoreBtn");
	  const saveToastEl = document.getElementById("saveToast");
	  const saveToast = new bootstrap.Toast(saveToastEl);
	  
	  async function loadPosts() {
		  try {
		    const res = await fetch("/api/all-posts");
		    const data = await res.json();
		    console.log(data);
		    renderPosts(data);
		  } catch (err) {
		    console.error("Failed to load posts", err);
		  }
		}

		document.addEventListener("DOMContentLoaded", loadPosts);

	  
	  function renderPosts(posts) {
		  const container = document.getElementById("blog-container");
		  container.innerHTML = ""; // Clear previous content

		  posts.forEach(post => {
		    const card = document.createElement("div");
		    card.className = "blog-card";

		    const imageUrl = post.url || "https://via.placeholder.com/400x200?text=No+Image";
		    const trimmedSummary = limitWords(post.summary, 25);

		    card.innerHTML = `
		      <img src="${imageUrl}" alt="Blog Image" />
		      <div class="card-content">
		        <div class="title">${post.title}</div>
		        <div class="summary">${trimmedSummary}</div>
		        <div class="meta">
		          <span>${post.created.split(" ")[0]}</span>
		          <div class="actions">
		            <button class="save-btn">Save</button>
		            <button class="read-btn">Read More</button>
		          </div>
		        </div>
		      </div>
		    `;

		    container.appendChild(card);
		    
		 // Add event listeners for "Save" and "Read More" buttons
	    const saveButton = card.querySelector(".save-btn");
	    const readButton = card.querySelector(".read-btn");

	    saveButton.addEventListener("click", () => saveBtn(post.id));
	    readButton.addEventListener("click", () => readBtn(post.id));
		  });
		}
	  
	// Helper to limit word count
	  function limitWords(text, maxWords) {
	    const words = text.split(" ");
	    if (words.length <= maxWords) return text;
	    return words.slice(0, maxWords).join(" ") + "...";
	  }
	  
	  function readBtn(id) {
		  window.location.href = `/read-blog.html?postId=${id}`;
		}
		
		function saveBtn(id){
			alert("Post: " + id + " saved, successfully!")
		}

	  toggleBtn.addEventListener("click", () => {
	    const html = document.documentElement;
	    const currentTheme = html.getAttribute("data-bs-theme");
	    const newTheme = currentTheme === "dark" ? "light" : "dark";
	    html.setAttribute("data-bs-theme", newTheme);
	    toggleBtn.textContent = newTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
	    updateButtonTheme();
	  });

	  loadMoreBtn.addEventListener("click", loadPosts);

	  // Initial load
	  loadPosts();
	});


	</script>
</html>


